!function t(i,n,e){function o(s,a){if(!n[s]){if(!i[s]){var h="function"==typeof require&&require;if(!a&&h)return h(s,!0);if(r)return r(s,!0);var c=new Error("N'"+s+"'");throw c.code="NF",c}var u=n[s]={exports:{}};i[s][0].call(u.exports,function(t){var n=i[s][1][t];return o(n?n:t)},u,u.exports,t,i,n,e)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<e.length;s++)o(e[s]);return o}({1:[function(t,i,n){"use strict";function e(t){return 440*Math.pow(2,(t-69)/12)}function o(t,i){var n=x.createBufferSource();n.buffer=t,n.connect(x.destination),n.start(i?x.currentTime+i:0)}function r(t,i,n,e){for(var o=n*d,r=x.createBuffer(1,o,d),s=r.getChannelData(0),a=0;o>a;a++)s[a]=i(t*a/d,a/o)*e;return r}function s(t){return Math.sin(2*t*Math.PI)}function a(t,i){var n=.5*(s(t)+s(.5*t)),e=Math.exp(8*-i);return n*e}function h(t){var i=I[t%12],n=Math.floor(t/12)-1;return i+n}function c(t,i,n){function o(o){var a,c={get:function(){return a||(a=r(e(o),t,i,n)),a}};Object.defineProperty(s,o,c),Object.defineProperty(s,h(o),c)}for(var s={},a=21;105>=a;a++)o(a);return s}function u(t,i,n){i(t).map(function(t,i){for(var e=i*n,r=0;r<t.length;r+=2){var s=t[r],a=t[r+1];o(s,e+a)}})}function p(t,i){var n=i+24;return[t[i],0,t[i+4],k,t[i+7],A,t[i+11],j,t[i+12],q,t[i+11],F,t[i+7],P,t[i+4],B,t[n],0,t[n+7],A,t[n+12],q,t[n+7],P]}function l(t,i){var n=i+24;return[t[i],0,t[i+3],k,t[i+7],A,t[i+10],j,t[i+12],q,t[i+10],F,t[i+7],P,t[i+3],B,t[n],0,t[n+7],A,t[n+12],q,t[n+7],P]}function f(t,i){var n=i+24;return[t[i],0,t[i+4],k,t[i+7],A,t[i+12],j,t[i+16],q,t[i+12],F,t[i+12],P,t[i+7],B,t[n],0,t[n+7],A,t[n+16],q,t[n+7],P]}function y(){u(C,function(t){return[[p(t,60),p(t,60),l(t,57),l(t,57),p(t,53),p(t,53),l(t,62),l(t,62),p(t,60),p(t,60),p(t,53),p(t,53),l(t,62),l(t,62),f(t,55),f(t,55)][W]]},g)}var m=window.AudioContext||window.webkitAudioContext,x=new m,d=x.sampleRate;try{x.createBuffer(1,1,d/14),d/=14}catch(v){d=22050}var w=90,z=120/w*1e3,g=.001*z,M=g/2,S=M/2,b=S/2,k=b,A=S,j=S+b,q=M,F=M+b,P=M+S,B=M+S+b,I=["c","cs","d","ds","e","f","fs","g","gs","a","as","b"],C=c(a,g,.1),W=0,O=0;y(),i.exports={update:function(t){O+=1e3*t,O>=z&&(W=(W+1)%16,y(),O=0)},reset:function(){W=0,O=0},playError:function(){u(C,function(t){return[l(t,33)]},g)}}},{}],2:[function(t,i,n){"use strict";function e(t,i,n,e){r.call(this),this.fov=t||60,this.as=i||1,this.near=n||.1,this.far=e||1e3,this.up=(new s).cp(s.Y),this.mWI=new a,this.pM=new a,this.uPM()}var o=t(42),r=t(32),s=t(30),a=t(26),h=Math.PI/180,c=new a;o.i(e,r),e.prototype.lA=function(t){c.lA(this.po,t,this.up),this.qu.sR(c)},e.prototype.uPM=function(){var t=this.near,i=this.far,n=t*Math.tan(.5*this.fov*h),e=-n,o=e*this.as,r=n*this.as,s=2*t/(r-o),a=2*t/(n-e),c=(r+o)/(r-o),u=(n+e)/(n-e),p=-(i+t)/(i-t),l=-2*i*t/(i-t),f=this.pM.el;return f[0]=s,f[1]=0,f[2]=0,f[3]=0,f[4]=0,f[5]=a,f[6]=0,f[7]=0,f[8]=c,f[9]=u,f[10]=p,f[11]=-1,f[12]=0,f[13]=0,f[14]=l,f[15]=0,this},i.exports=e},{26:26,30:30,32:32,42:42}],3:[function(t,i,n){"use strict";function e(){this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.rg=!1,this.pt=0,this.t=0,this.at=0,this.ca=new s,this.se=new r,this.am=new o,this.rr=new a({ctx:this.ctx,am:this.am}),this.tick=this.tick.bind(this),this.onUpdate=null}var o=t(21),r=t(32),s=t(2),a=t(41),h=1/60;e.prototype.tick=function(){this.rg&&(this.update(),this.draw(),requestAnimationFrame(this.tick))},e.prototype.update=function(){this.t=Date.now();var t=.001*(this.t-this.pt);for(this.pt=this.t,t>.25&&(t=.25),this.at+=t;this.at>=h;)this.onUpdate&&this.onUpdate(h),this.se.ch.map(function(t){t.update(h)}),this.at-=h},e.prototype.draw=function(){this.rr.render(this.se,this.ca)},e.prototype.play=function(){this.rg=!0,this.pt=Date.now(),requestAnimationFrame(this.tick)},e.prototype.pause=function(){this.rg=!1},e.prototype.setSize=function(t,i){this.canvas.width=t,this.canvas.height=i,this.ca.as=t/i,this.ca.uPM()},i.exports=e},{2:2,21:21,32:32,41:41}],4:[function(t,i,n){"use strict";function e(t,i){return t-i}function o(t,i){i.sort(e);for(var n=i.length;n--;)t.splice(i[n],1)}function r(t,i,n){return c.push([t,i||0,0,n]),r}function s(t){var i,n,e,r,s,a,u,p=[],l=[];for(a=0,u=c.length;u>a;a++)i=c[a],n=i[0],e=i[1],r=i[2]+=t,r>=e&&(p.push(a),s=i[3],s&&l.push(s)),n(h.clamp(r/e,0,1));for(o(c,p),a=0,u=l.length;u>a;a++)l[a]()}function a(){c=[]}var h=t(42),c=[];r.update=s,r.reset=a,i.exports=r},{42:42}],5:[function(t,i,n){"use strict";i.exports=[[.7,.3,.3],[.5,.7,.8],[.9,.7,.5],[.7,.8,.5]]},{}],6:[function(t,i,n){"use strict";function e(){var t=s(new h,f,y,f,0,y/2,0);this.mesh=new u(t,new c({cr:(new a).fA(o.sample(r)),wf:!0,lineWidth:2})),this.spring=new p(480,12),this.spring.set(this.mesh.po),this.target=new l,this.velocity=0}var o=t(42),r=t(5),s=t(8),a=t(21),h=t(11),c=t(17),u=t(33),p=t(29),l=t(30),f=.25,y=.7;e.prototype.update=function(t){this.target.cp(this.mesh.po),this.target.y+=y,this.spring.to=this.target,this.spring.update(t);var i=(this.spring.getValues().y-this.mesh.po.y)/y,n=Math.sqrt(f*f*y/i)/f;this.mesh.scale.set(n,i,n)},e.prototype.cr=function(t){this.mesh.mt.cr.fA(void 0!==t?r[t]:o.sample(r))},i.exports=e},{11:11,17:17,21:21,29:29,30:30,33:33,42:42,5:5,8:8}],7:[function(t,i,n){"use strict";function e(){var t=new r(h),i=2*Math.PI*Math.random(),n=2*Math.random()-1,e=Math.sqrt(1-n*n);return t.po.set(a*e*Math.cos(i),a*e*Math.sin(i),(a+o.randFloatSpread(4))*n),t.scale.set(.2,.2,.2),t}var o=t(42),r=t(34),s=t(19),a=32,h=new s;h.program=function(t){t.fillStyle="#fff",t.fillRect(0,0,1,1)},i.exports=function(t){for(var i=[],n=0;96>n;n++){var o=e();i.push(o),t.add(o)}return i}},{19:19,34:34,42:42}],8:[function(t,i,n){"use strict";i.exports=function(t,i,n,e,o,r,s){o=o||0,r=r||0,s=s||0;for(var a=i/2,h=n/2,c=e/2,u=[-a,-h,-c,-a,-h,c,a,-h,c,a,-h,-c,-a,h,-c,-a,h,c,a,h,c,a,h,-c],p=0;p<u.length;p+=3)u[p]+=o,u[p+1]+=r,u[p+2]+=s;var l=[[0,1,5,4],[1,2,6,5],[2,3,7,6],[3,0,4,7],[4,5,6,7],[0,3,2,1]];return t.push(u,l).cFN(),t}},{}],9:[function(t,i,n){"use strict";i.exports=function(t,i,n,e,o){o=o||4;for(var r,s,a=[0,n,0,0,-e,0],h=[],c=-2*Math.PI/o,u=2,p=0;o>p;p++)a.push(i*Math.cos(p*c)),a.push(0),a.push(i*Math.sin(p*c)),r=u+p,s=u+(p+1)%o,h.push([0,r,s]),h.push([1,s,r]);return t.push(a,h).cFN(),t}},{}],10:[function(t,i,n){"use strict";function e(t,i,n){this.a=t,this.b=i,this.c=n,this.nr=new r,this.cr=new o}var o=t(21),r=t(30);i.exports=e},{21:21,30:30}],11:[function(t,i,n){"use strict";function e(){this.ve=[],this.fa=[]}var o=t(30),r=t(10),s=t(12),a=new o,h=new o;e.prototype.push=function(t,i){var n,e=this.ve.length;for(n=0;n<t.length;n+=3)this.ve.push(new o(t[n],t[n+1],t[n+2]));var a,h;for(n=0;n<i.length;n++){if(a=i[n],3===a.length)h=new r(e+a[0],e+a[1],e+a[2]);else{if(4!==a.length)continue;h=new s(e+a[0],e+a[1],e+a[2],e+a[3])}this.fa.push(h)}return this},e.prototype.cFN=function(){for(var t,i,n,e,o=0;o<this.fa.length;o++)t=this.fa[o],i=this.ve[t.a],n=this.ve[t.b],e=this.ve[t.c],a.sV(e,n),h.sV(i,n),a.cross(h).nz(),t.nr.cp(a)},i.exports=e},{10:10,12:12,30:30}],12:[function(t,i,n){"use strict";function e(t,i,n,e){this.a=t,this.b=i,this.c=n,this.d=e,this.nr=new r,this.cr=new o}var o=t(21),r=t(30);i.exports=e},{21:21,30:30}],13:[function(t,i,n){"use strict";function e(t,i,n){t.addEventListener(i,n)}function o(t,i,n){t.removeEventListener(i,n)}function r(t,i){t.appendChild(i)}function s(t,i){t.insertBefore(i,t.firstChild)}function a(t){return document.createElement(t||"div")}function h(t,i){t.textContent=i}function c(t,i){t.classList.add(i)}function u(t,i){t.classList.remove(i)}function p(t,i){return(t%i+i)%i}function l(t,i){return Math.abs(p(i-t+Math.PI,E)-Math.PI)}function f(){function t(t){return t.touches&&t.touches.length?t.touches[0].clientX:t.clientX}function i(i){X&&i.preventDefault(),r=t(i),s=!0}function n(i){if(s&&(i.preventDefault(),X)){var n=t(i),e=n-r;r=n,st=J,J+=2*e/window.innerWidth*rt}}function o(){X&&event.preventDefault(),s=!1}var r,s=!1;e(document,"touchstart",i),e(document,"touchmove",n),e(document,"touchend",o),e(document,"mousedown",i),e(document,"mousemove",n),e(document,"mouseup",o)}function y(t){t=t||0;var i,n=1/0;return Z.map(function(t){var e=(t.theta+J)%E;t.po.x=K*Math.sin(e),t.po.z=K*Math.cos(e),t.ro.y=e,t.uQ(),t.mt.em.rgb(0,0,0);var o=l(e,0);t.angularDistance=o,n>o&&(n=o,i=t)}),i}function m(){var t=y();t&&t.mt.em.rgb(.3,.3,.3)}function x(t,i,n,e,o,r,s,a){var h=new j(I(new A,o,r,s,4),ut);return h.po.set(i,n,e),h.ro.y=a,h.uQ(),t.add(h),h}function d(){X=!ht,R.reset(),H=L.se=new k,H.fogDensity=.005,Z=C(H,K,$),J=0;var t=new P(new q(1,.8,.8));t.po.set(-4,4,5),H.add(t),L.am.rgb(.1,.3,.4);var i=L.ca;i.fov=ht?tt:it,i.po.set(0,1,ht?nt:et),i.up.x=.05,ot.cp(F.Y),i.lA(ot),i.uPM();var n=-2,e=-1.8,o=-2.4,r=x(H,0,n,.5,1.8,5,6,.2),s=x(H,-2.7,e,-2,1.5,2.8,4,.3),a=x(H,2.3,o,-2.5,1.7,4.3,5,.1);D(H),_=new W,_.t=0,_.mesh.po.y=2*O(0,8)+.01,_.mesh.po.z=8.1,H.add(_),H.add(_.mesh);var h=y();h&&_.cr(h.crIndex());var c=0,u=0;L.onUpdate=function(t){R.update(t),X&&(U[37]||U[65]?(st=J,J+=rt*t):(U[39]||U[68])&&(st=J,J-=rt*t)),Y.cp(ot),J>st?Y.x=-1:st>J?Y.x=1:Y.x=0,st=J,ot.lerp(Y,.5*t),i.lA(ot),m();var h=y();if(_.mesh.po.y+=_.velocity*t,_.velocity-=4*t,c=_.mesh.po.y=Math.max(_.mesh.po.y,h.y+.01),X){if(_.mesh.po.y-.02<=h.y){if(!_.mesh.mt.cr.equals(h.mt.cr))return V.playError(),void M();var p;do p=S.randInt(0,T.length-1);while(N.fA(T[p]).equals(h.mt.cr));ct=!0,_.velocity=4}ct&&c>u&&(_.cr(p),ct=!1)}u=c;var l=L.t/1e3;r.po.y=n+.2*Math.cos(l),s.po.y=e+.1*Math.cos(.8*l+1),a.po.y=o+.2*Math.cos(.4*l),V.update(t)}}function v(t,i,n,o){var r=a("button");return r.id=i,h(r,n),e(r,"click",o),s(t,r),r}function w(){return z(),at=!0,ht?void R(function(t){t=S.smootherstep(t,0,1);var i=L.ca;i.fov=S.lerp(tt,it,t*t*t),i.po.z=S.lerp(nt,et,t),i.uPM()},1,function(){ht=!1,X=!0,ct=!0}):(d(),void R(function(t){var i=Math.floor(16*t)%2<1?0:.5;_.mesh.mt.em.rgb(i,i,i),_.mesh.mt.op=Math.max(i+.5,.8)},3,function(){X=!0,ct=!0}))}function z(){L.play(),c(pt,"h")}function g(){at&&(L.pause(),h(lt,"Continue"),o(lt,w),e(lt,z),u(pt,"h"))}function M(){L.pause(),h(lt,"Restart"),o(lt,z),e(lt,w),u(pt,"h")}var S=t(42),b=t(3),k=t(32),A=t(11),j=t(33),q=t(21),F=t(30),P=t(16),B=t(17),I=t(9),C=t(15),W=t(6),O=t(23),T=t(5),D=t(7),R=t(4),V=t(1),E=2*Math.PI,Q=document.querySelector.bind(document),Y=new F,N=new q,U=[],L=new b,X=!1;L.setSize(window.innerWidth,window.innerHeight);var G=Q("#g");r(G,L.canvas);var Z,H,_,J=0,K=8,$=32,tt=10,it=60,nt=32,et=12,ot=(new F).cp(F.Y),rt=Math.PI/2,st=0,at=!0,ht=!0,ct=!1,ut=new B({cr:new q(.8,.8,.8),ov:.5});f();var pt=a();pt.id="m",c(pt,"c"),r(document.body,pt);var lt=v(pt,"p","Play",w);d(),L.play(),e(window,"blur",g),e(window,"resize",function(){L.setSize(window.innerWidth,window.innerHeight)}),e(document,"keydown",function(t){U[t.keyCode]=!0}),e(document,"keyup",function(t){U[t.keyCode]=!1,32!==t.keyCode||L.rg||w()})},{1:1,11:11,15:15,16:16,17:17,21:21,23:23,3:3,30:30,32:32,33:33,4:4,42:42,5:5,6:6,7:7,9:9}],14:[function(t,i,n){"use strict";function e(t,i){h.call(this,new a,new c({cr:(new s).fA(o.sample(r)),wf:!0,lineWidth:.5})),this.width=t,this.height=p,this.depth=i,this.theta=0,this.angularDistance=0,u(this.ge,t,p,i,0-p/2,0)}var o=t(42),r=t(5),s=t(21),a=t(11),h=t(33),c=t(17),u=t(8),p=1/8,l=new s;o.i(e,h),e.prototype.crIndex=function(){for(var t=0;t<r.length;t++)if(this.mt.cr.equals(l.fA(r[t])))return t;return-1},i.exports=e},{11:11,17:17,21:21,33:33,42:42,5:5,8:8}],15:[function(t,i,n){"use strict";var e=t(14),o=t(23);i.exports=function(t,i,n){n=n||1;for(var r=[],s=0;n>s;s++){var a=2*Math.PI*(s/n),h=i*Math.sin(a),c=i*Math.cos(a),u=new e(1.4,1),p=2*o(h,c);u.po.set(h,p,c),u.y=p,u.ro.y=a,u.theta=a,u.uQ(),t.add(u),r.push(u)}return r}},{14:14,23:23}],16:[function(t,i,n){"use strict";function e(t,i){r.call(this),this.cr=t,this.intensity=void 0!==i?i:1,this.fi=new s}var o=t(42),r=t(32),s=t(24);o.i(e,r),i.exports=e},{24:24,32:32,42:42}],17:[function(t,i,n){"use strict";function e(t){s.call(this,t),t=t||{},this.em=t.em||new r}var o=t(42),r=t(21),s=t(18);o.i(e,s),e.prototype.draw=function(t,i,n){t.fillStyle=i.toString(),s.prototype.draw.call(this,t,n)},i.exports=e},{18:18,21:21,42:42}],18:[function(t,i,n){"use strict";function e(t){t=t||{},this.side=t.side||s,this.cr=t.cr||new r,this.tC=t.tC,this.op=void 0!==t.op?t.op:1,this.lineWidth=t.lineWidth||0,this.fill=void 0!==t.fill?t.fill:!0,this.wf=t.wf||!1,this.shadowColor=t.shadowColor||new r,this.shadowBlur=t.shadowBlur||0,this.bl=t.bl||"source-over",this.ov=t.ov||0}var o=t(42),r=t(21),s=0,a=1,h=2;e.prototype.set=function(t){var i=this.cr.toString(),n=this.tC&&this.cr!==this.tC?this.tC.toString():i;t.fillStyle=i,t.strokeStyle=n,t.globalAlpha=this.op,t.lineWidth=this.lineWidth,t.shadowColor=this.shadowColor.toString(),t.shadowBlur=this.shadowBlur,t.globalCompositeOperation=this.bl},e.prototype.draw=function(t,i){void 0!==i&&(t.globalAlpha=o.clamp(this.op*i,0,1)),this.fill&&t.fill(),this.wf&&t.stroke()},e.FS=s,e.BS=a,e.DS=h,i.exports=e},{21:21,42:42}],19:[function(t,i,n){"use strict";function e(t){r.call(this,t),this.program=function(){}}var o=t(42),r=t(18);o.i(e,r),e.prototype.draw=function(t){this.program.call(this,t)},i.exports=e},{18:18,42:42}],20:[function(t,i,n){"use strict";function e(t,i){this.min=t||new o(1/0,1/0,1/0),this.max=i||new o(-(1/0),-(1/0),-(1/0))}var o=t(30),r=new o;e.prototype.contains=function(t){return!(this.min.x>t.x||t.x>this.max.x||this.min.y>t.y||t.y>this.max.y||this.min.z>t.z||t.z>this.max.z)},e.prototype.iB=function(t){return!(t.max.x<this.min.x||this.max.x<t.min.x||t.max.y<this.min.y||this.max.y<t.min.y||t.max.z<this.min.z||this.max.z<t.min.z)},e.prototype.eP=function(t){return this.min.min(t),this.max.max(t),this},e.prototype.eS=function(t){return this.min.aS(-t),this.max.aS(t),this},e.prototype.mE=function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-(1/0),this},e.prototype.sFP=function(t){this.mE();for(var i=0;i<t.length;i++)this.eP(t[i]);return this},e.prototype.sFO=function(t){this.mE();for(var i=t.ge.ve,n=0;n<i.length;n++)r.cp(i[n]).m4(t.mW),this.eP(r);return this},i.exports=e},{30:30}],21:[function(t,i,n){"use strict";function e(t,i,n){this.r=t||0,this.g=i||0,this.b=n||0}var o=t(42).lerp;e.prototype.rgb=function(t,i,n){return this.r=t,this.g=i,this.b=n,this},e.prototype.toString=function(){return"rgb("+(255*this.r|0)+", "+(255*this.g|0)+", "+(255*this.b|0)+")"},e.prototype.add=function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this},e.prototype.mul=function(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this},e.prototype.mS=function(t){return this.r*=t,this.g*=t,this.b*=t,this},e.prototype.lerp=function(t,i){return this.r=o(this.r,t.r,i),this.g=o(this.g,t.g,i),this.b=o(this.b,t.b,i),this},e.prototype.cp=function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this},e.prototype.fA=function(t){return this.r=t[0],this.g=t[1],this.b=t[2],this},e.prototype.equals=function(t){return this.r===t.r&&this.g===t.g&&this.b===t.b},i.exports=e},{42:42}],22:[function(t,i,n){"use strict";function e(t,i,n){this.x=t||0,this.y=i||0,this.z=n||0}var o=t(42);e.prototype.sQ=function(t){var i=t.x*t.x,n=t.y*t.y,e=t.z*t.z,r=t.w*t.w;return this.x=Math.atan2(2*(t.x*t.w-t.y*t.z),r-i-n+e),this.y=Math.asin(o.clamp(2*(t.x*t.z+t.y*t.w),-1,1)),this.z=Math.atan2(2*(t.z*t.w-t.x*t.y),r+i-n-e),this},i.exports=e},{42:42}],23:[function(t,i,n){"use strict";var e=t(27),o=8,r=16,s=2,a=.5;i.exports=function(t,i){for(var n=1/r,h=a,c=0,u=0;o>u;u++)c+=h*e(t*n,i*n),n*=s,h*=a;return c}},{27:27}],24:[function(t,i,n){"use strict";function e(){this.cB=1,this.mB=65535,this.grI=0}e.prototype.collides=function(t){return this.grI&&this.grI===t.grI?this.grI>0:this.mB&t.cB&&this.cB&t.mB},i.exports=e},{}],25:[function(t,i,n){"use strict";function e(){this.el=new Float32Array([1,0,0,0,1,0,0,0,1])}e.prototype.set=function(t,i,n,e,o,r,s,a,h){var c=this.el;return c[0]=t,c[3]=i,c[6]=n,c[1]=e,c[4]=o,c[7]=r,c[2]=s,c[5]=a,c[8]=h,this},e.prototype.id=function(){return this.set(1,0,0,0,1,0,0,0,1),this},e.prototype.mS=function(t){var i=this.el;return i[0]*=t,i[3]*=t,i[6]*=t,i[1]*=t,i[4]*=t,i[7]*=t,i[2]*=t,i[5]*=t,i[8]*=t,this},e.prototype.gI=function(t){var i=t.el,n=this.el;n[0]=i[10]*i[5]-i[6]*i[9],n[1]=-i[10]*i[1]+i[2]*i[9],n[2]=i[6]*i[1]-i[2]*i[5],n[3]=-i[10]*i[4]+i[6]*i[8],n[4]=i[10]*i[0]-i[2]*i[8],n[5]=-i[6]*i[0]+i[2]*i[4],n[6]=i[9]*i[4]-i[5]*i[8],n[7]=-i[9]*i[0]+i[1]*i[8],n[8]=i[5]*i[0]-i[1]*i[4];var e=i[0]*n[0]+i[1]*n[3]+i[2]*n[6];return e?(this.mS(1/e),this):(this.id(),this)},e.prototype.tr=function(){var t,i=this.el;return t=i[1],i[1]=i[3],i[3]=t,t=i[2],i[2]=i[6],i[6]=t,t=i[5],i[5]=i[7],i[7]=t,this},e.prototype.nM=function(t){return this.gI(t).tr(),this},i.exports=e},{}],26:[function(t,i,n){"use strict";function e(){this.el=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}var o=t(30);e.prototype.set=function(t,i,n,e,o,r,s,a,h,c,u,p,l,f,y,m){var x=this.el;return x[0]=t,x[4]=i,x[8]=n,x[12]=e,x[1]=o,x[5]=r,x[9]=s,x[13]=a,x[2]=h,x[6]=c,x[10]=u,x[14]=p,x[3]=l,x[7]=f,x[11]=y,x[15]=m,this},e.prototype.cp=function(t){return this.el.set(t.el),this},e.prototype.id=function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},e.prototype.sP=function(t){var i=this.el;return i[12]=t.x,i[13]=t.y,i[14]=t.z,this},e.prototype.mS=function(t){var i=this.el;return i[0]*=t,i[4]*=t,i[8]*=t,i[12]*=t,i[1]*=t,i[5]*=t,i[9]*=t,i[13]*=t,i[2]*=t,i[6]*=t,i[10]*=t,i[14]*=t,i[3]*=t,i[7]*=t,i[11]*=t,i[15]*=t,this},e.prototype.gI=function(t){var i=this.el,n=t.el,e=n[0],o=n[4],r=n[8],s=n[12],a=n[1],h=n[5],c=n[9],u=n[13],p=n[2],l=n[6],f=n[10],y=n[14],m=n[3],x=n[7],d=n[11],v=n[15];i[0]=c*y*x-u*f*x+u*l*d-h*y*d-c*l*v+h*f*v,i[4]=s*f*x-r*y*x-s*l*d+o*y*d+r*l*v-o*f*v,i[8]=r*u*x-s*c*x+s*h*d-o*u*d-r*h*v+o*c*v,i[12]=s*c*l-r*u*l-s*h*f+o*u*f+r*h*y-o*c*y,i[1]=u*f*m-c*y*m-u*p*d+a*y*d+c*p*v-a*f*v,i[5]=r*y*m-s*f*m+s*p*d-e*y*d-r*p*v+e*f*v,i[9]=s*c*m-r*u*m-s*a*d+e*u*d+r*a*v-e*c*v,i[13]=r*u*p-s*c*p+s*a*f-e*u*f-r*a*y+e*c*y,i[2]=h*y*m-u*l*m+u*p*x-a*y*x-h*p*v+a*l*v,i[6]=s*l*m-o*y*m-s*p*x+e*y*x+o*p*v-e*l*v,i[10]=o*u*m-s*h*m+s*a*x-e*u*x-o*a*v+e*h*v,i[14]=s*h*p-o*u*p-s*a*l+e*u*l+o*a*y-e*h*y,i[3]=c*l*m-h*f*m-c*p*x+a*f*x+h*p*d-a*l*d,i[7]=o*f*m-r*l*m+r*p*x-e*f*x-o*p*d+e*l*d,i[11]=r*h*m-o*c*m-r*a*x+e*c*x+o*a*d-e*h*d,i[15]=o*c*p-r*h*p+r*a*l-e*c*l-o*a*f+e*h*f;var w=e*i[0]+a*i[4]+p*i[8]+m*i[12];return w?(this.mS(1/w),this):(this.id(),this)},e.prototype.mM=function(t,i){var n=t.el,e=i.el,o=this.el,r=n[0],s=n[4],a=n[8],h=n[12],c=n[1],u=n[5],p=n[9],l=n[13],f=n[2],y=n[6],m=n[10],x=n[14],d=n[3],v=n[7],w=n[11],z=n[15],g=e[0],M=e[4],S=e[8],b=e[12],k=e[1],A=e[5],j=e[9],q=e[13],F=e[2],P=e[6],B=e[10],I=e[14],C=e[3],W=e[7],O=e[11],T=e[15];return o[0]=r*g+s*k+a*F+h*C,o[4]=r*M+s*A+a*P+h*W,o[8]=r*S+s*j+a*B+h*O,o[12]=r*b+s*q+a*I+h*T,o[1]=c*g+u*k+p*F+l*C,o[5]=c*M+u*A+p*P+l*W,o[9]=c*S+u*j+p*B+l*O,o[13]=c*b+u*q+p*I+l*T,o[2]=f*g+y*k+m*F+x*C,o[6]=f*M+y*A+m*P+x*W,o[10]=f*S+y*j+m*B+x*O,o[14]=f*b+y*q+m*I+x*T,o[3]=d*g+v*k+w*F+z*C,o[7]=d*M+v*A+w*P+z*W,o[11]=d*S+v*j+w*B+z*O,o[15]=d*b+v*q+w*I+z*T,this},e.prototype.mRQ=function(t){var i=this.el,n=t.x,e=t.y,o=t.z,r=t.w,s=n+n,a=e+e,h=o+o,c=n*s,u=n*a,p=n*h,l=e*a,f=e*h,y=o*h,m=r*s,x=r*a,d=r*h;return i[0]=1-(l+y),i[4]=u-d,i[8]=p+x,i[1]=u+d,i[5]=1-(c+y),i[9]=f-m,i[2]=p-x,i[6]=f+m,i[10]=1-(c+l),i[3]=0,i[7]=0,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,this},e.prototype.lA=function(){var t=new o,i=new o,n=new o;return function(e,o,r){var s=this.el;return n.sV(e,o).nz(),n.length()||(n.z=1),t.cV(r,n).nz(),t.length()||(n.x+=1e-4,t.cV(r,n).nz()),i.cV(n,t),s[0]=t.x,s[4]=i.x,s[8]=n.x,s[1]=t.y,s[5]=i.y,s[9]=n.y,s[2]=t.z,s[6]=i.z,s[10]=n.z,this}}(),e.prototype.scale=function(t){var i=this.el,n=t.x,e=t.y,o=t.z;return i[0]*=n,i[1]*=n,i[2]*=n,i[3]*=n,i[4]*=e,i[5]*=e,i[6]*=e,i[7]*=e,i[8]*=o,i[9]*=o,i[10]*=o,i[11]*=o,this},i.exports=e},{30:30}],27:[function(t,i,n){"use strict";for(var e=.5*(Math.sqrt(3)-1),o=(3-Math.sqrt(3))/6,r=new Uint8Array(512),s=new Uint8Array(512),a=0;512>a;a++){var h=512*Math.random();r[a]=h[255&a],s[a]=r[a]%12}var c=new Float32Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]);i.exports=function(t,i){var n,a,h=0,u=0,p=0,l=(t+i)*e,f=Math.floor(t+l),y=Math.floor(i+l),m=(f+y)*o,x=f-m,d=y-m,v=t-x,w=i-d;v>w?(n=1,a=0):(n=0,a=1);var z=v-n+o,g=w-a+o,M=v-1+2*o,S=w-1+2*o,b=255&f,k=255&y,A=.5-v*v-w*w;if(A>=0){var j=3*s[b+r[k]];A*=A,h=A*A*(c[j]*v+c[j+1]*w)}var q=.5-z*z-g*g;if(q>=0){var F=3*s[b+n+r[k+a]];q*=q,u=q*q*(c[F]*z+c[F+1]*g)}var P=.5-M*M-S*S;if(P>=0){var B=3*s[b+1+r[k+1]];P*=P,p=P*P*(c[B]*M+c[B+1]*S)}return 70*(h+u+p)}},{}],28:[function(t,i,n){"use strict";function e(t,i,n,e){this.x=t||0,this.y=i||0,this.z=n||0,this.w=void 0!==e?e:1}e.prototype.aa=function(t,i){var n=i/2,e=Math.sin(n);return this.x=t.x*e,this.y=t.y*e,this.z=t.z*e,this.w=Math.cos(n),this},e.prototype.mul=function(t){return this.mQ(this,t)},e.prototype.mQ=function(t,i){var n=t.x,e=t.y,o=t.z,r=t.w,s=i.x,a=i.y,h=i.z,c=i.w;return this.x=n*c+r*s+e*h-o*a,this.y=e*c+r*a+o*s-n*h,this.z=o*c+r*h+n*a-e*s,this.w=r*c-n*s-e*a-o*h,this},e.prototype.sR=function(t){var i,n=t.el,e=n[0],o=n[4],r=n[8],s=n[1],a=n[5],h=n[9],c=n[2],u=n[6],p=n[10],l=e+a+p;return l>0?(i=.5/Math.sqrt(l+1),this.w=.25/i,this.x=(u-h)*i,this.y=(r-c)*i,this.z=(s-o)*i):e>a&&e>p?(i=2*Math.sqrt(1+e-a-p),this.w=(u-h)/i,this.x=.25*i,this.y=(o+s)/i,this.z=(r+c)/i):a>p?(i=2*Math.sqrt(1+a-e-p),this.w=(r-c)/i,this.x=(o+s)/i,this.y=.25*i,this.z=(h+u)/i):(i=2*Math.sqrt(1+p-e-a),this.w=(s-o)/i,this.x=(r+c)/i,this.y=(h+u)/i,this.z=.25*i),this},e.prototype.sE=function(t){var i=Math.cos(t.x/2),n=Math.cos(t.y/2),e=Math.cos(t.z/2),o=Math.sin(t.x/2),r=Math.sin(t.y/2),s=Math.sin(t.z/2);return this.x=o*n*e+i*r*s,this.y=i*r*e-o*n*s,this.z=i*n*s+o*r*e,this.w=i*n*e-o*r*s,this},i.exports=e},{}],29:[function(t,i,n){"use strict";function e(t,i,n,e,o,s){var a=o*(e-i)-s*n,h=n+a*t,c=i+h*t;return Math.abs(h-n)<r&&Math.abs(c-i)<r?[e,0]:[c,h]}function o(t,i){this.k=t,this.b=i,this.state={},this.to={}}var r=1e-4;o.prototype.update=function(t){Object.keys(this.state).map(function(i){void 0!==this.to[i]&&(this.state[i]=e(t,this.state[i][0],this.state[i][1],this.to[i],this.k,this.b))},this)},o.prototype.set=function(t){return this.state=Object.keys(t).reduce(function(i,n){var e=t[n];return isFinite(e)&&(i[n]=[e,0]),i},{}),this},o.prototype.getValues=function(){var t=this.state;return Object.keys(this.to).reduce(function(i,n){return t[n]&&(i[n]=t[n][0]),i},{})},i.exports=o},{}],30:[function(t,i,n){"use strict";function e(t,i,n){this.x=t||0,this.y=i||0,this.z=n||0}e.prototype.set=function(t,i,n){return this.x=t,this.y=i,this.z=n,this},e.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this},e.prototype.sV=function(t,i){return this.x=t.x-i.x,this.y=t.y-i.y,this.z=t.z-i.z,this},e.prototype.aS=function(t){return this.x+=t,this.y+=t,this.z+=t,this},e.prototype.mS=function(t){return this.x*=t,this.y*=t,this.z*=t,this},e.prototype.min=function(t){return this.x>t.x&&(this.x=t.x),this.y>t.y&&(this.y=t.y),this.z>t.z&&(this.z=t.z),this},e.prototype.max=function(t){return this.x<t.x&&(this.x=t.x),this.y<t.y&&(this.y=t.y),this.z<t.z&&(this.z=t.z),this},e.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},e.prototype.cp=function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},e.prototype.cross=function(t){var i=this.x,n=this.y,e=this.z;return this.x=n*t.z-e*t.y,this.y=e*t.x-i*t.z,this.z=i*t.y-n*t.x,this},e.prototype.cV=function(t,i){var n=t.x,e=t.y,o=t.z,r=i.x,s=i.y,a=i.z;return this.x=e*a-o*s,this.y=o*r-n*a,this.z=n*s-e*r,this},e.prototype.dot=function(t){return this.x*t.x+this.y*t.y+this.z*t.z},e.prototype.lengthSq=function(){return this.x*this.x+this.y*this.y+this.z*this.z},e.prototype.length=function(){return Math.sqrt(this.lengthSq())},e.prototype.dTS=function(t){var i=this.x-t.x,n=this.y-t.y,e=this.z-t.z;return i*i+n*n+e*e},e.prototype.dT=function(t){return Math.sqrt(this.dTS(t))},e.prototype.nz=function(){var t=this.length();return this.mS(t?1/t:0)},e.prototype.lerp=function(t,i){return this.x+=(t.x-this.x)*i,this.y+=(t.y-this.y)*i,this.z+=(t.z-this.z)*i,this},e.prototype.m3=function(t){var i=this.x,n=this.y,e=this.z,o=t.el;return this.x=o[0]*i+o[3]*n+o[6]*e,this.y=o[1]*i+o[4]*n+o[7]*e,this.z=o[2]*i+o[5]*n+o[8]*e,this},e.prototype.m4=function(t){var i=this.x,n=this.y,e=this.z,o=t.el;return this.x=o[0]*i+o[4]*n+o[8]*e+o[12],this.y=o[1]*i+o[5]*n+o[9]*e+o[13],this.z=o[2]*i+o[6]*n+o[10]*e+o[14],this},e.prototype.aP=function(t){var i=this.x,n=this.y,e=this.z,o=t.el,r=1/(o[3]*i+o[7]*n+o[11]*e+o[15]);return this.x=(o[0]*i+o[4]*n+o[8]*e+o[12])*r,this.y=(o[1]*i+o[5]*n+o[9]*e+o[13])*r,this.z=(o[2]*i+o[6]*n+o[10]*e+o[14])*r,this},e.prototype.mP=function(t){var i=t.el;return this.x=i[12],this.y=i[13],this.z=i[14],this},e.prototype.aQ=function(t){var i=this.x,n=this.y,e=this.z,o=t.x,r=t.y,s=t.z,a=t.w,h=a*i+r*e-s*n,c=a*n+s*i-o*e,u=a*e+o*n-r*i,p=-o*i-r*n-s*e;return this.x=h*a+p*-o+c*-s-u*-r,this.y=c*a+p*-r+u*-o-h*-s,this.z=u*a+p*-s+h*-r-c*-o,this},e.X=new e(1,0,0),e.Y=new e(0,1,0),e.Z=new e(0,0,1),i.exports=e},{}],31:[function(t,i,n){"use strict";function e(t,i,n,e){this.x=t||0,this.y=i||0,this.z=n||0,this.w=void 0!==e?e:1}e.prototype.set=function(t,i,n,e){return this.x=t,this.y=i,this.z=n,this.w=e,this},e.prototype.cp=function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this},e.prototype.m4=function(t){var i=this.x,n=this.y,e=this.z,o=this.w,r=t.el;return this.x=r[0]*i+r[4]*n+r[8]*e+r[12]*o,this.y=r[1]*i+r[5]*n+r[9]*e+r[13]*o,this.z=r[2]*i+r[6]*n+r[10]*e+r[14]*o,this.w=r[3]*i+r[7]*n+r[11]*e+r[15]*o,this},i.exports=e},{}],32:[function(t,i,n){"use strict";function e(){this.ch=[],this.po=new o,this.ro=new s,this.qu=new a,this.scale=new o(1,1,1),this.mx=new r,this.mW=new r,this.vi=!0}var o=t(30),r=t(26),s=t(22),a=t(28),h=new o,c=new a,u=new r;e.prototype.add=function(t){return this.ch.push(t),this},e.prototype.remove=function(t){var i=this.ch.indexOf(t);return i>-1&&this.ch.splice(i,1),this},e.prototype.update=function(){},e.prototype.uM=function(){return this.mx.mRQ(this.qu),this.mx.scale(this.scale),this.mx.sP(this.po),this.mW.cp(this.mx),this},e.prototype.uQ=function(){this.qu.sE(this.ro)},e.prototype.uR=function(){this.ro.sQ(this.qu)},e.prototype.ra=function(t,i){return c.aa(t,i),this.qu.mul(c),this},e.prototype.rx=function(t){return this.ra(o.X,t)},e.prototype.ry=function(t){return this.ra(o.Y,t)},e.prototype.rz=function(t){return this.ra(o.Z,t)},e.prototype.ta=function(t,i){return h.cp(t).aQ(this.qu),this.po.add(h.mS(i)),this},e.prototype.tx=function(t){return this.ta(o.X,t)},e.prototype.ty=function(t){return this.ta(o.Y,t)},e.prototype.tz=function(t){return this.ta(o.Z,t)},e.prototype.lA=function(t){u.lA(t,this.po,o.Y),this.qu.sR(u)},i.exports=e},{22:22,26:26,28:28,30:30}],33:[function(t,i,n){"use strict";function e(t,i){r.call(this),this.ge=t,this.mt=i,this.fi=new s}var o=t(42),r=t(32),s=t(24);o.i(e,r),i.exports=e},{24:24,32:32,42:42}],34:[function(t,i,n){"use strict";function e(t){r.call(this),this.ge=a,this.mt=t}var o=t(42),r=t(32),s=t(11),a=(new s).push([-.5,-.5,0,.5,-.5,0,.5,.5,0],[]);o.i(e,r),i.exports=e},{11:11,32:32,42:42}],35:[function(t,i,n){"use strict";function e(){function t(){function t(t){var i=t.po,n=t.pw,e=t.ps;n.cp(i).m4(q),e.cp(n).m4(U);var o=1/e.w;e.x*=o,e.y*=o,e.z*=o,t.vi=-1<=e.x&&e.x<=1&&-1<=e.y&&e.y<=1&&-1<=e.z&&e.z<=1}function i(i,e,o){b=n(),b.po.set(i,e,o),t(b)}function e(t,i,n,e){return t.vi||i.vi||n.vi||e&&e.vi?!0:(Y.length=0,Y[0]=t.ps,Y[1]=i.ps,Y[2]=n.ps,e&&(Y[3]=e.ps),E.iB(Q.sFP(Y)))}function o(t,i,n){return(n.ps.x-t.ps.x)*(i.ps.y-t.ps.y)-(n.ps.y-t.ps.y)*(i.ps.x-t.ps.x)<0}return{pV:i,cTV:e,cBC:o}}function i(){if(S===F.length){var t=new y;return F.push(t),S++,t}return F[S++]}function n(){if(P===B.length){var t=new m;return B.push(t),P++,t}return B[P++]}function e(){if(I===C.length){var t=new x;return C.push(t),I++,t}return C[I++]}function w(){if(W===O.length){var t=new d;return O.push(t),W++,t}return O[W++]}function z(){if(j===T.length){var t=new v;return T.push(t),j++,t}return T[j++]}function g(t,i){return i.z-t.z}var M,S,b,k,A,j,q,F=[],P=0,B=[],I=0,C=[],W=0,O=[],T=[],D={os:[],ls:[],el:[]},R=new o,V=new r,E=new h(new o(-1,-1,-1),new o(1,1,1)),Q=new h,Y=[],N=new a,U=new a,L=new s,X=new t;this.pS=function(t,n){I=0,W=0,j=0,S=0,n.uM(),N.cp(n.mWI.gI(n.mW)),U.mM(n.pM,N),D.os.length=0,D.el.length=0,D.ls.length=0;var o,r;for(r=0;r<t.ch.length;r++)o=t.ch[r],o.vi&&(o.uM(),o instanceof u?D.ls.push(o):(M=i(),M.object=o,R.mP(o.mW),R.aP(U),M.z=R.z,D.os.push(M)));D.os.sort(g);var s,a,h,y,m,x,d,v,b,F,C,O,T,E,Q;for(r=0;r<D.os.length;r++)if(o=D.os[r].object,s=o.ge,a=o.mt,s&&a)if(q=o.mW,P=0,o instanceof l){for(y=s.ve,m=s.fa,L.nM(q),h=a.side,x=0;x<y.length;x++)d=y[x],X.pV(d.x,d.y,d.z);for(v=0;v<m.length;v++)if(b=m[v],F=b instanceof c,O=B[b.a],T=B[b.b],E=B[b.c],F&&(Q=B[b.d]),(F||X.cTV(O,T,E))&&(!F||X.cTV(O,T,E,Q))){if(C=X.cBC(O,T,E),h!==p.DS){if(h===p.FS&&!C)continue;if(h===p.BS&&C)continue}k=F?w():e(),k.v0.cp(O),k.v1.cp(T),k.v2.cp(E),F&&k.v3.cp(Q),
k.nm.cp(b.nr),C||h!==p.BS&&h!==p.DS||k.nm.negate(),k.nm.m3(L).nz(),k.cr=b.cr,k.mt=a,F?k.z=(O.ps.z+T.ps.z+E.ps.z+Q.ps.z)/4:k.z=(O.ps.z+T.ps.z+E.ps.z)/3,D.el.push(k)}}else if(o instanceof f){V.set(q.el[12],q.el[13],q.el[14],1).m4(U);var Y=1/V.w;V.z*=Y,-1<=V.z&&V.z<=1&&(A=z(),A.x=V.x*Y,A.y=V.y*Y,A.z=V.z,A.object=o,A.ro=o.ro,A.scale.x=o.scale.x*Math.abs(A.x-(V.x+n.pM.el[0])/(V.w+n.pM.el[12])),A.scale.y=o.scale.y*Math.abs(A.y-(V.y+n.pM.el[5])/(V.w+n.pM.el[13])),A.mt=o.mt,D.el.push(A))}return D.el.sort(g),D}}var o=t(30),r=t(31),s=t(25),a=t(26),h=t(20),c=t(12),u=t(16),p=t(18),l=t(33),f=t(34),y=t(37),m=t(40),x=t(36),d=t(38),v=t(39);i.exports=e},{12:12,16:16,18:18,20:20,25:25,26:26,30:30,31:31,33:33,34:34,36:36,37:37,38:38,39:39,40:40}],36:[function(t,i,n){"use strict";function e(){this.v0=new s,this.v1=new s,this.v2=new s,this.nm=new r,this.cr=new o,this.mt=null,this.z=0}var o=t(21),r=t(30),s=t(40);i.exports=e},{21:21,30:30,40:40}],37:[function(t,i,n){"use strict";function e(){this.object=null,this.z=0}i.exports=e},{}],38:[function(t,i,n){"use strict";function e(){s.call(this),this.v3=new r}var o=t(42),r=t(40),s=t(36);o.i(e,s),i.exports=e},{36:36,40:40,42:42}],39:[function(t,i,n){"use strict";function e(){this.object=null,this.x=0,this.y=0,this.z=0,this.ro=0,this.scale=new o,this.mt=null}var o=t(30);i.exports=e},{30:30}],40:[function(t,i,n){"use strict";function e(){this.po=new o,this.pw=new o,this.ps=new r,this.vi=!0}var o=t(30),r=t(31);e.prototype.cp=function(t){this.pw.cp(t.pw),this.ps.cp(t.ps)},i.exports=e},{30:30,31:31}],41:[function(t,i,n){"use strict";function e(t){function i(t,i,n){for(var e,o,r=t.nm,s=0,a=0;a<d.length;a++)e=d[a],E.cp(e.cr),N.mP(e.mW).nz(),o=r.dot(N),0>=o||(o*=e.intensity,(!i.fi||i.fi.collides(e.fi))&&(s+=o),n.add(E.mS(o)));return s}function n(t,i){i.set(T),T.beginPath();var n=t.scale.x*z,e=t.scale.y*g;T.save(),T.translate(t.x,t.y),i.ro&&T.rotate(i.ro),T.scale(n,e),i.draw(T),T.restore()}function e(t,n,e,o,r,a,h){n.set(T),T.beginPath(),A=o.ps.x,j=o.ps.y,q=r.ps.x,F=r.ps.y,P=a.ps.x,B=a.ps.y;var c=1;if(W){var u=o.ps.w+r.ps.w+a.ps.w;u=e?(u+h.ps.w)/4:u/3;var y=t.z*u;if(c=s.clamp(Math.pow(2,-W*W*y*y/Math.LN2),0,1),!c)return}e?(I=h.ps.x,C=h.ps.y,f(A,j,q,F,P,B,I,C)):l(A,j,q,F,P,B),n instanceof p?(R.cp(n.cr),V.cp(n.em),D.cp(Q),Y=i(t,n,D),D.mul(R).add(V),n.draw(T,D,c,Y)):n.draw(T,c)}function l(t,i,n,e,o,r){T.moveTo(t,i),T.lineTo(n,e),T.lineTo(o,r),T.lineTo(t,i)}function f(t,i,n,e,o,r,s,a){T.moveTo(t,i),T.lineTo(n,e),T.lineTo(o,r),T.lineTo(s,a),T.lineTo(t,i)}function y(t,i,n){var e,o=i.x-t.x,r=i.y-t.y,s=o*o+r*r;s&&(e=n/Math.sqrt(s),o*=e,r*=e,t.x-=o,t.y-=r,i.x+=o,i.y+=r)}t=t||{};var m,x,d,v,w,z,g,M,S,b,k,A,j,q,F,P,B,I,C,W,O=new u,T=t.ctx,D=new o,R=new o,V=new o,E=new o,Q=t.am||new o,Y=0,N=new r;T&&(this.clear=function(t,i){T.clearRect(0,0,t,i)},this.render=function(t,i){v=T.canvas.width,w=T.canvas.height,z=v/2,g=w/2,this.clear(v,w),T.save();var o="round";T.lineCap=o,T.lineJoin=o,T.setTransform(1,0,0,-1,0,w),T.translate(z,g),m=O.pS(t,i),x=m.el,d=m.ls,W=t.fogDensity;for(var r,s,u,p,l=0;l<x.length;l++)if(r=x[l],s=r.mt,s&&s.op)if(r instanceof c)r.x*=z,r.y*=g,n(r,s);else if(r instanceof a){if(p=r instanceof h,M=r.v0,S=r.v1,b=r.v2,p&&(k=r.v3),-1>M.ps.z||M.ps.z>1)continue;if(-1>S.ps.z||S.ps.z>1)continue;if(-1>b.ps.z||b.ps.z>1)continue;if(p&&(-1>k.ps.z||k.ps.z>1))continue;M.ps.x*=z,M.ps.y*=g,S.ps.x*=z,S.ps.y*=g,b.ps.x*=z,b.ps.y*=g,u=s.ov,u&&(y(M.ps,S.ps,u),y(S.ps,b.ps,u),y(b.ps,M.ps,u)),p?(k.ps.x*=z,k.ps.y*=g,e(r,s,p,M,S,b,k)):e(r,s,p,M,S,b)}T.restore()})}var o=t(21),r=t(30),s=t(42),a=t(36),h=t(38),c=t(39),u=t(35),p=t(17);i.exports=e},{17:17,21:21,30:30,35:35,36:36,38:38,39:39,42:42}],42:[function(t,i,n){"use strict";n.lerp=function(t,i,n){return t+n*(i-t)},n.inverseLerp=function(t,i,n){return(n-t)/(i-t)},n.clamp=function(t,i,n){return i>t?i:t>n?n:t},n.smoothstep=function(t,i,n){return i>=t?0:t>=n?1:(t=(t-i)/(n-i),t*t*(3-2*t))},n.smootherstep=function(t,i,n){return i>=t?0:t>=n?1:(t=(t-i)/(n-i),t*t*t*(t*(6*t-15)+10))},n.randInt=function(t,i){return t+Math.floor(Math.random()*(i-t+1))},n.randFloat=function(t,i){return t+Math.random()*(i-t)},n.randFloatSpread=function(t){return t*(.5-Math.random())},n.randSign=function(){return Math.random()<.5?-1:1},n.sample=function(t){return t[t.length*Math.random()|0]},n.i=function(t,i){t.prototype=Object.create(i.prototype),t.prototype.constructor=t},n.assign=function(t,i){return Object.keys(i).map(function(n){t[n]=i[n]}),t}},{}]},{},[13]);